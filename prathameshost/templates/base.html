<html>
    <head>

	<div id = "commonheader" style = "font-size:40px;text-align:center;color:orange">
	Voteathon 2012
	</div>
	<div id = "commonwords" style="font-size:30px;text-align:center;color:green">
	Let the world know what you think....
	</div>
	<br/>
	<br/>
	<br/>
	<script>
	function validateCategoryName()
	{
		var x=document.forms["categoryform"]["categoryname"].value;
		if (x==null || x=="")
		{
			alert("Category Name cannot be empty");
			return false;
		}
		var y=document.forms["categoryform"]["items"].value;
		if (y==null || y=="")
		{
			alert("Please enter atleast one item");
			return false;
		}
		var letterNumber = /^[0-9a-zA-Z_ ]+$/;		  
 		if (!x.match(letterNumber))   
  		{  
			alert("Category name can only contain letters,numbers,spaces and underscore");
  			return false;  
  		}  
		var allowedname = /^[0-9a-zA-Z, ]+$/;
		if (!y.match(allowedname))
		{
			alert("Item names can only contain letters and numbers");
			return false;
		}
		var items = y.split(",");
		for (i=0;i<items.length;i++)
		{
			for (j=0;j<items.length;j++)
			{
				if (items[i]==items[j] && i!=j)
				{
					alert("There are duplicate items in your input. Please remove the duplicate items");
					return false;
				}
			}
		}
  		return true;   
	}
	
	function checkEditCategoryRadioButtons()
	{
		var categoryselected = document.getElementsByName("changecategory")
		var selected = 0;
		for (i=0;i<categoryselected.length;i++)
		{
			if (categoryselected[i].checked)
			{
				selected = 1;
			}
		}
		if (selected == 0)
		{
			alert("Please select atleast one Category");
			return false;
		}
		return true;
	}

	function checkEditCategoryAddItems()
	{
		var textbox = document.forms["editcategform"]["addeditems"].value;
		if (textbox == null || textbox == "")
		{
			alert("Please enter atleast one item name in the text box");
			return false;
		}
		var allowedtext = /^[0-9a-zA-Z ,]+$/;
		if (!textbox.match(allowedtext)) 
		{
			alert("Item names can only contain letters,numbers and spaces");
			return false;
		}
		return true;
	}

	function checkEditCategDeleteItems()
	{
		var deleteitems = document.getElementsByName("deleteitemnames");
		var selected = 0;
		for (i=0;i<deleteitems.length;i++)
		{
			if (deleteitems[i].checked)
			{
				selected = 1;
			}
		}
		if (selected==0)
		{
			alert("Please select atleast one item for deletion");
			return false;
		}
		return true;
	}

	function checkCategoryTypeSelected()
	{
		var categtype = document.getElementsByName("owner");
		var selected = 0;
		for (i=0;i<categtype.length;i++)
		{
			if (categtype[i].checked)
			{
				selected = 1;
			}
		}
		if (selected==0)
		{
			alert("Please select atleast one category type");
			return false;
		}
		return true;
	}
	
	function checkCategSelectedForVote()
	{
		var selectedCateg = document.getElementsByName("selectedcategory");
		var selected = 0;
		for (i=0;i<selectedCateg.length;i++)
		{
			if (selectedCateg[i].checked)
			{
				selected = 1;
			}
		}
		if (selected==0)
		{
			alert("Please select atleast one category for vote");
			return false;
		}
		return true;
	}

	function checkItemSelectedForVote()
	{
		var selitem = document.getElementsByName("votechoice");
		var selected = 0;
		for (i=0;i<selitem.length;i++)
		{
			if (selitem[i].checked)
			{
				selected = 1;
			}
		}
		if (selected==0)
		{
			alert("Please select atleast one item for vote");
			return false;
		}
		return true;
	}

	function checkDate()
	{
		var month = document.getElementById("monthid");
		var day = document.getElementById("dayid");
		var year = document.getElementById("yearid");
		var hour = document.getElementById("hourid");
		var min = document.getElementById("minid");
		var current = new Date();
		if (current.getFullYear()>year.options[year.selectedIndex].value)
		{
			return true;
		}
		else if (current.getMonth()>month.options[month.selectedIndex])
		{
			alert("Wrong month");
			return false;
		}
		else
		{
			return true;
		}
                //alert(month.options[month.selectedIndex].value);
		alert("Hi");
		return true;
	}

	function IsValidDate()
	{
		var month = document.getElementById("monthid");
                var day = document.getElementById("dayid");
                var year = document.getElementById("yearid");
                var hour = document.getElementById("hourid");
                var min = document.getElementById("minid");
		var actday = day.options[day.selectedIndex].value;
		var actmon = month.options[month.selectedIndex].value;
		var actyear = year.options[year.selectedIndex].value;
		var acthr = hour.options[hour.selectedIndex].value;
		var actmin = min.options[min.selectedIndex].value;
		var DateVal = actmon + "/" + actday + "/" + actyear;
    		var dt = new Date(DateVal);

    		if(dt.getDate()!=actday)
		{
        		alert('Invalid Date');
        		return false;
        	}
    		else if(dt.getMonth()!=actmon-1)
		{
        		alert('Invalid Date');
        		return false;
        	}
    		else if(dt.getFullYear()!=actyear)
		{
        		alert('Invalid Date');
        		return false;
        	}
		else if(acthr=="Hour")
		{
			alert("Hour field missing. Please fill all necessary fields");
			return false;
		}
		else if(actmin=="Minutes")
		{
			alert("Minute field missing. Please fill all necessary fields");
			return false;
		}
		else
		{
			alert("Valid date!!!!");
    			return true;
		}
	}

	function isCategNameValid()
	{
		 var textbox = document.forms["changecategname"]["newcategname"].value;
                if (textbox == null || textbox == "")
                {
                        alert("Please enter a category name in the text box");
                        return false;
                }
                var allowedtext = /^[0-9a-zA-Z ]+$/;
                if (!textbox.match(allowedtext)) 
                {
                        alert("Category names can only contain letters,numbers and spaces");
                        return false;
                }
                return true;
	}
	</script>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>{% block title %}Voteathon 2012{% endblock %}</title>
    </head>
    <body bgcolor="#E6E6FA">
        {% block content %}{% endblock %}
	<br/>
	<br/>
	Click below to return to homepage<br/>
	<form name = "end1form" action = "/">
	<input type = "submit" value = "Return to homepage" />
	</form>
    </body>
</html>
